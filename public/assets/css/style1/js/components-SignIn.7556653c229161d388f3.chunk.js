(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[51],{382:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n(22),l=n(62),i=n(996),s=n(997),u=n(822),f=n(998),m=n(775),d=n(13),p=n(851),b=n(850),g=n(783),y=n(800),w=n(805),E=n(776),h=n(773),v=n(806),O=regeneratorRuntime.mark(j);Object(o.e)({wrongCredentials:{id:"Wrong credentials.",defaultMessage:"Wrong credentials."}});function j(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)(v.g);case 2:case"end":return e.stop()}}),O)}var S=Object(b.a)({form:"signIn",validate:function(e){var t={};return e.email||(t.email="Invalid email address."),(!e.password||e.password&&e.password.length<8)&&(t.password="Password must be at least 8 characters long."),t}})(Object(o.f)(Object(w.a)(Object(E.a)((function(e){var t=e.error,n=e.intl,a=e.handleSubmit,c=e.invalid,l=e.submitting,i=e.school,s=e.isSchoolLogin,u=null;return t&&(u=r.a.createElement("div",{className:"alert alert-danger",role:"alert"},r.a.createElement("strong",null,r.a.createElement(o.b,{id:"ohSnap",defaultMessage:"Oh snap!"}))," ",n.formatMessage({id:t})," ",r.a.createElement("small",null,r.a.createElement(d.a,{to:"/forgot-password","data-ga-label":"Alert: Forgot password?"},r.a.createElement(o.b,{id:"forgotPassword",defaultMessage:"Forgot Password?"}))))),r.a.createElement("form",{className:"form-horizontal",onSubmit:a},u,r.a.createElement(p.a,{name:"email",component:g.a,label:r.a.createElement(o.b,{id:"usernameEmail",defaultMessage:"Username/Email"}),placeholder:n.formatMessage({id:"usernameEmail"}),type:"text"}),r.a.createElement(p.a,{name:"password",normalize:y.a,component:g.a,label:r.a.createElement(o.b,{id:"password",defaultMessage:"Password"}),placeholder:n.formatMessage({id:"password"}),type:"password"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-8 col-xs-offset-4"},r.a.createElement("small",null,r.a.createElement(d.a,{to:"/forgot-password","data-ga-label":"Forgot password?"},r.a.createElement(o.b,{id:"forgotPassword",defaultMessage:"Forgot Password?"}))))),r.a.createElement("div",{className:"row margin-top-15"},r.a.createElement("div",{className:"col-xs-12 text-center"},r.a.createElement("button",{"data-ga-label":"Sign In",className:"btn btn-lg btn-block btn-success",type:"submit",disabled:c||l},l&&r.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-fw"}),l&&" ",r.a.createElement(o.b,{id:"signIn",defaultMessage:"Sign In"})),!s&&r.a.createElement("small",null,r.a.createElement(o.b,{id:"needToCreateAnAccount",defaultMessage:"Need to create an account?"})," ",r.a.createElement(d.a,{to:i?"free-trial":"/sign-up","data-ga-label":"Sign Up"},r.a.createElement(o.b,{id:"signUp",defaultMessage:"Sign Up"}))))))}),j)))),_=n(1003),P=n(115),M=n(786);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=D(e);if(t){var r=D(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(l,e);var t,n,a,c=A(l);function l(){var e;x(this,l);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return k(C(e=c.call.apply(c,[this].concat(n))),"submit",(function(){var t=e.props.signIn;return new Promise((function(e,n){t({resolve:e,reject:n})}))})),e}return t=l,(n=[{key:"renderHelmet",value:function(){return r.a.createElement(m.a,{title:"Sign In - The Typing Cat",description:"Login to your account and continue improving your touch typing skills!"})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.match,a=(n=void 0===n?{}:n).params,c=(a=void 0===a?{}:a).action,l=a.splat,m=e.isSchoolLogin,d=["",c,l].join("/").replace("//","");if(Object(P.a)(t))return r.a.createElement(f.a,{to:Object(_.a)(t,l)});var p=!0;return window&&window.location&&-1!==window.location.href.indexOf("school")&&(p=!1),r.a.createElement(u.a,null,this.renderHelmet(),r.a.createElement("div",{"data-ga-category":"Sign In"},r.a.createElement("h1",{className:"margin-bottom-30 text-center"},r.a.createElement(o.b,{id:"signIn",defaultMessage:"Sign In"})),p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{redirect:d}),r.a.createElement(s.a,{redirect:d}),r.a.createElement("div",{className:"or clearfix"})),r.a.createElement(S,{onSubmit:this.submit,school:!p,isSchoolLogin:m})))}}])&&I(t.prototype,n),a&&I(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.a.Component),U={signIn:l.tb};t.default=Object(M.a)(Object(c.c)((function(e){return{user:e.session.user,isSchoolLogin:e.school_subdomain&&"school"!==e.school_subdomain}}),U)(T))},805:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n.n(a),o=n(162),c=n(853),l=function(e){return(t="form",n=c.a,function(e){return function(a){return Object(o.c)(t,n),r.a.createElement(e,a)}})(e);var t,n}}}]);